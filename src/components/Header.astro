---
import { Image } from "astro:assets"
---
<header  id="header" class="fixed top-0 left-0 right-0 z-50 flex p-2 bg-transparent transition-all duration-300">
  <nav class="flex flex-col flex-1 mx-4 md:mx-auto md:flex-row md:justify-around">
    <div class="flex items-center justify-between">
      <div class="flex items-center">
        <Image src="/logo.png" alt="logo" width={40} height={40}/>
        <p class="text-2xl text-white">Rizal<span class="font-semibold">Cartridge</span></p>
      </div>
  
      <!-- hamburger menu icon -->
      <button id="btn-menu" title="menu">
        <svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="#ffffff" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="cursor-pointer lucide lucide-menu-icon lucide-menu md:hidden">
          <line x1="4" x2="20" y1="12" y2="12"/>
          <line x1="4" x2="20" y1="6" y2="6"/><line x1="4" x2="20" y1="18" y2="18"/>
        </svg>
      </button>
    </div>
    <ul id="menu" class="hidden py-2 space-y-4 text-white md:flex md:flex-row md:gap-8 text-md md:text-xl">
      <li><a href="#beranda" class="block w-full hover:underline drop-shadow-text">Beranda</a></li>
      <li><a href="#tentang-kami" class="block w-full hover:underline drop-shadow-text">Tentang Kami</a></li>
      <li><a href="#produk" class="block w-full hover:underline drop-shadow-text">Produk</a></li>
      <li><a href="#kontak" class="block w-full hover:underline drop-shadow-text">Kontak</a></li>
    </ul>
  </nav>
</header>

<script>
  const btnMenu = document.getElementById('btn-menu')!;
  const menuList = document.getElementById('menu')!;
  const header = document.getElementById('header')!;
  const links = menuList.querySelectorAll('a');

  btnMenu.addEventListener('click', () => {
    menuList.classList.toggle('hidden')
  })

  menuList.addEventListener('click', () => {
    menuList.classList.add('hidden')
  })

  window.addEventListener('scroll', () => {
    menuList.classList.add('hidden')

    if (window.scrollY > 50) {
      header.classList.replace('bg-transparent','bg-primary');
      links.forEach(link => link.classList.remove('drop-shadow-text'))
    } else {
      header.classList.replace('bg-primary', 'bg-transparent');
      links.forEach(link => link.classList.add('drop-shadow-text'))
    }
  });
</script>